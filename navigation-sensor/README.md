# 数据融合与导航系统文档

本目录包含PX4四旋翼数据融合、惯性导航和传感器标定系统的深度技术文档，从算法原理到工程实现的完整解析。

## 文档列表

### 核心系统文档

- **[PX4四旋翼数据融合系统详解](PX4四旋翼数据融合系统详解.md)** - EKF2数据融合系统完整技术解析
  - EKF2核心算法原理与数学推导
  - 多传感器融合策略（IMU、GPS、气压计、磁力计）
  - 预测与更新步骤详细实现
  - 故障检测与隔离机制
  - 性能监控与诊断方法
  - 参数调优实践指南

- **[PX4四旋翼惯性导航系统详解](PX4四旋翼惯性导航系统详解.md)** - IMU惯性导航系统深度解析
  - IMU数据处理完整流程
  - 姿态解算算法（四元数、互补滤波、扩展卡尔曼滤波）
  - 惯性推算与积分误差处理
  - 坐标系变换与参考系管理
  - 外部辅助导航集成（GPS、视觉、激光等）
  - 性能优化与故障诊断实践

- **[PX4四旋翼传感器标定系统详解](PX4四旋翼传感器标定系统详解.md)** - 传感器标定算法与流程详解
  - 加速度计六面体标定法原理与实现
  - 陀螺仪零偏标定算法与温度补偿
  - 磁力计椭球拟合标定与软硬铁校正
  - 气压计海平面标定与温度补偿
  - 温度补偿建模与多项式拟合
  - 标定质量评估与验证方法

- **[系统后处理和EKF后处理实现机制详解](系统后处理和EKF后处理实现机制详解.md)** - EKF系统后处理技术分析
  - EKF后处理算法原理
  - 系统后处理流程详解
  - 数据处理优化策略
  - 性能分析与调优

## 技术特色

### 🔍 深度技术分析
- 从数学原理到代码实现的完整技术链路
- 详细的算法推导和公式解释
- 源码级别的实现细节分析

### 🛠️ 工程实践导向
- 实际参数调优经验与技巧
- 常见问题诊断与解决方案
- 性能优化与故障处理方法

### 📊 数据驱动验证
- 实际飞行数据分析案例
- 传感器性能评估方法
- 标定效果量化验证

## 系统架构图

```
传感器原始数据
        ↓
[传感器标定] ← 标定参数存储
        ↓
    标定后数据
        ↓
[惯性导航系统] ← 导航参数配置
        ↓
  惯性导航输出
        ↓
[EKF2数据融合] ← 融合参数调优
        ↓
   状态估计输出
        ↓
    飞行控制系统
```

## 阅读建议

### 🚀 新手学习路径
1. **传感器标定系统详解** - 理解传感器数据预处理
2. **惯性导航系统详解** - 学习基础导航算法
3. **数据融合系统详解** - 掌握高级融合技术

### 🔧 工程师实践路径
1. 快速浏览各系统架构概述
2. 重点学习参数调优章节
3. 结合实际问题查阅故障诊断部分

### 🧪 算法研究路径
1. 深入学习数学原理推导
2. 分析源码实现细节
3. 对比不同算法的性能特点

## 核心概念

### EKF2数据融合
- **状态向量**：位置、速度、姿态、IMU偏差、风速等
- **观测模型**：GPS、气压、磁力计、视觉等传感器模型
- **过程噪声**：系统动力学不确定性建模
- **观测噪声**：传感器测量不确定性建模

### 惯性导航系统
- **姿态表示**：四元数、旋转矩阵、欧拉角
- **坐标系**：机体系、导航系、地球系
- **误差模型**：陀螺偏差、加速度计偏差、标度因子
- **辅助导航**：GPS、磁力计、气压计辅助修正

### 传感器标定
- **加速度计**：偏差、标度因子、非正交性
- **陀螺仪**：零偏、标度因子、温度漂移
- **磁力计**：硬铁、软铁干扰补偿
- **气压计**：零点偏移、温度补偿

## 源码对应关系

| 文档系统 | 主要源码位置 | 核心文件 |
|---------|-------------|---------|
| EKF2数据融合 | `src/modules/ekf2/` | `EKF2.cpp`, `ekf2_main.cpp` |
| 惯性导航 | `src/lib/ecl/EKF/` | `ekf.h`, `estimator_interface.cpp` |
| 传感器标定 | `src/modules/sensors/` | `sensors.cpp`, `vehicle_imu/` |
| 传感器驱动 | `src/drivers/` | IMU、GPS、磁力计等驱动 |

## 参数配置

### 关键参数组
- **EKF2_***：EKF2融合参数
- **IMU_***：IMU校准参数  
- **CAL_***：传感器标定参数
- **SENS_***：传感器配置参数

## 相关文档

- [飞行控制系统](../flight-control/) - 状态估计输出的控制应用
- [GPS导航定位](../gps-navigation/) - GPS传感器详细配置
- [硬件特定配置](../hardware-specific/) - 具体硬件平台的传感器配置

---

本目录文档深入解析PX4导航系统的核心技术，适合算法工程师、系统集成工程师和高级用户学习参考。